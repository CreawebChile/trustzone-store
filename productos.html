<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrustZone Store</title>
    
    <!-- Favicon -->
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="android-chrome-512x512.png">
    
    <!-- Estilos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="css/shared-styles.css">
    <link rel="stylesheet" type="text/css" href="css/productos-styles.css">
    <link rel="stylesheet" type="text/css" href="css/animations.css">
    
    <!-- Scripts -->
    <script src="js/shared.js"></script>
</head>
<body>
    <!-- Navbar -->
    <header>
        <div class="navbar">
            <a href="index.html" class="logo">
                <img src="images/Logotipo%20Tecnolog%C3%ADa%20Azul%20(2).png" alt="Logo de TrustZone">
                TrustZone Store
            </a>
            <nav>
                <ul class="hidden" id="nav-menu">
                    <li><a href="index.html#home">Inicio</a></li>
                    <li><a href="index.html#about">Sobre Nosotros</a></li>
                    <li><a href="productos.html">Productos</a></li>
                    <li><a href="index.html#contact">Contacto</a></li>
                    <li><a href="Terminos-y-condiciones.html">T칠rminos y Condiciones</a></li>
                </ul>
            </nav>
            <div class="menu-icon" onclick="toggleMenu()" aria-expanded="false"><i class="fas fa-bars"></i></div>
        </div>
    </header>

    <div class="floating-elements">
        <i class="floating-icon fas fa-gift"></i>
        <i class="floating-icon fas fa-tree"></i>
        <i class="floating-icon fas fa-star"></i>
        <i class="floating-icon fas fa-snowflake"></i>
    </div>

    <div class="santa-container">
        <div class="santa">
            <i class="fas fa-sleigh"></i>
            <i class="fas fa-user-alt" style="color: #ff0000; margin-left: -15px;"></i>
        </div>
    </div>

    <main>
        <div class="search-bar">
            <input type="text" id="search" placeholder="Buscar productos..." aria-label="Buscar productos">
            <select id="filter-category" aria-label="Filtrar por categor칤a">
                <option value="">Todas las Categor칤as</option>
                <option value="productividad">Productividad</option>
                <option value="dise침o">Dise침o</option>
                <option value="redes">Redes Sociales</option>
                <option value="seguridad">Seguridad</option>
                <option value="streaming">Streaming</option>
                <option value="musica">M칰sica</option>
                <option value="vpn">VPN</option>
                <option value="gaming">Gaming</option>
                <option value="oferta">Ofertas</option>
            </select>
            <select id="filter-price" aria-label="Filtrar por precio">
                <option value="">Todos los Precios</option>
                <option value="low">Hasta $5.000</option>
                <option value="high">M치s de $5.000</option>
            </select>
            <select id="filter-best-sellers" aria-label="Ordenar por">
                <option value="">Ordenar por</option>
                <option value="best">M치s Vendidos</option>
            </select>
            <select id="currency-selector" aria-label="Seleccionar moneda">
                <option value="CLP">游뻟릖 CLP</option>
                <option value="USD">游쥟릖 USD</option>
                <option value="EUR">游쀯릖 EUR</option>
                <option value="GBP">游섫릖 GBP</option>
                <option value="ARS">游뷣릖 ARS</option>
                <option value="MXN">游쓇릖 MXN</option>
            </select>
        </div>

        <div class="product-grid" id="product-grid">
            <!-- Productos con MercadoPago primero -->
            <div class="product-card" data-category="dise침o" data-price="5990" data-best-seller="true" data-description="Desbloquea todo el potencial creativo con Canva Pro por un a침o completo. Accede a m치s de 100 millones de fotos y elementos premium, m치s de 3000 fuentes exclusivas, y todas las herramientas profesionales. Incluye la funci칩n de eliminar fondos, redimensionar dise침os y acceso a contenido animado. 춰Con posibilidad de mantenerlo para siempre! La cuenta se entrega con acceso inmediato y garantizado.">
                <div class="product-image" style="background-image: url('images/canvapro.jpg');">
                    <span class="product-tag tag-best-seller">M치s Vendido</span>
                </div>
                <div class="product-details">
                    <h3 class="product-title">Canva Pro 1 a침o/para siempre</h3>
                    <p class="product-price">$5.990 CLP</p>
                    <div class="payment-button">
                        <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
                            data-preference-id="500424967-fbea6445-7810-400c-ac1a-a63858afc276" 
                            data-source="button">
                        </script>
                    </div>
                </div>
            </div>

            <div class="product-card" data-category="seguridad" data-price="5500" data-best-seller="true" data-description="Protecci칩n completa para tu dispositivo con McAfee AntiVirus Plus 2024. Incluye protecci칩n en tiempo real contra virus, malware, ransomware y amenazas zero-day. Navegaci칩n web segura, gestor de contrase침as premium y optimizaci칩n del rendimiento del sistema. Licencia original por 1 a침o con actualizaciones autom치ticas.">
                <div class="product-image" style="background-image: url('images/Packshot_AntiVirusPlus.webp');">
                    <span class="product-tag tag-best-seller">M치s Vendido</span>
                </div>
                <div class="product-details">
                    <h3 class="product-title">McAfee AntiVirus (2024) - 1 A침o</h3>
                    <p class="product-price">$5.500 CLP</p>
                    <div class="payment-button">
                        <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
                            data-preference-id="500424967-8782c48b-8008-461e-aa3f-6abffec72cc2" 
                            data-source="button">
                        </script>
                    </div>
                </div>
            </div>

            <div class="product-card" data-category="gaming" data-price="4990" data-best-seller="false" data-description="Mejora tu precisi칩n en juegos FPS con nuestro Anti Recoil para mouse. Software optimizado que ajusta autom치ticamente el control de retroceso, compatible con todos los juegos de disparos populares. 100% seguro y no detectable, ya que funciona a nivel de hardware. Incluye diferentes perfiles personalizables y soporte t칠cnico.">
                <div class="product-image" style="background-image: url('images/Antirecoil.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">Anti Recoil para Mouse</h3>
                    <p class="product-price">$4.990 CLP</p>
                    <div class="payment-button">
                        <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
                            data-preference-id="500424967-ef5216b4-bba2-49f5-b584-0b53ac3b130e" 
                            data-source="button">
                        </script>
                    </div>
                </div>
            </div>

            <div class="product-card" data-category="gaming" data-price="1990" data-best-seller="false" data-description="Optimiza tu gameplay con nuestra macro especializada para PC. Mejora significativamente tu precisi칩n y tiempo de respuesta en juegos como Free Fire. Incluye configuraciones predefinidas, ajustes personalizables y actualizaciones gratuitas. F치cil de instalar y usar, con tutorial detallado incluido.">
                <div class="product-image" style="background-image: url('images/macromouse.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">Macro para Mouse</h3>
                    <p class="product-price">$1.990 CLP</p>
                    <div class="payment-button">
                        <script src="https://www.mercadopago.cl/integrations/v1/web-payment-checkout.js"
                            data-preference-id="500424967-a08fc9ab-3e30-4097-8779-1f30dea96258" 
                            data-source="button">
                        </script>
                    </div>
                </div>
            </div>

            <!-- Agregar despu칠s de los productos con MercadoPago y antes de ChatGPT -->

            <div class="product-card" data-category="productividad" data-price="5500" data-best-seller="false" data-description="Microsoft Office 365 Personal con licencia original por 1 a침o. Incluye acceso completo a Word, Excel, PowerPoint, Outlook y OneNote en su 칰ltima versi칩n. 1TB de almacenamiento en OneDrive, actualizaciones autom치ticas y uso en m칰ltiples dispositivos. Ideal para trabajo, estudio o uso personal.">
                <div class="product-image" style="background-image: url('images/microsftOffice.png');"></div>
                <div class="product-details">
                    <h3 class="product-title">Microsoft Office 365 Personal por 1 a침o</h3>
                    <p class="product-price">$5.500 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20Office%20365%20Personal%201%20a침o" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

            <div class="product-card" data-category="seguridad,vpn" data-price="3990" data-best-seller="false" data-description="Express VPN Premium: La mejor VPN del mercado. Conexi칩n ultra r치pida, m치s de 160 ubicaciones en 94 pa칤ses. Perfecto para streaming, gaming y navegaci칩n segura. Desbloquea contenido geo-restringido en Netflix, Disney+, HBO y m치s. Incluye pol칤tica de no registros, encriptaci칩n de nivel militar y soporte 24/7. V치lido para 5 dispositivos simult치neos.">
                <div class="product-image" style="background-image: url('images/expressvpn.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">Express VPN 1 mes</h3>
                    <p class="product-price">$3.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20Express%20VPN%201%20mes" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

            <!-- Productos con enlace a WhatsApp despu칠s -->
            <div class="product-card" data-category="productividad" data-price="4990" data-best-seller="true" data-description="Acceso Premium a ChatGPT Plus por 1 mes. Disfruta de GPT-4, el modelo de lenguaje m치s avanzado de OpenAI. Incluye todas las funciones premium: respuestas m치s r치pidas y precisas, acceso prioritario en horas pico, plugins exclusivos, navegaci칩n web en tiempo real, an치lisis de im치genes con GPT-4V (Visual), y DALL-E 3 para generaci칩n de im치genes de alta calidad. Ideal para trabajo, estudio, programaci칩n y desarrollo de proyectos. Soporte t칠cnico incluido durante todo el per칤odo.">
                <div class="product-image" style="background-image: url('images/chatgpt.jpg');">
                    <span class="product-tag tag-best-seller">M치s Vendido</span>
                </div>
                <div class="product-details">
                    <h3 class="product-title">ChatGPT 1 mes (cuenta compartida)</h3>
                    <p class="product-price">$4.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20ChatGPT%20Plus%201%20mes" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

            <div class="product-card" data-category="streaming" data-price="3990" data-best-seller="false" data-description="Paquete completo de Amazon Prime: Incluye Prime Video con miles de pel칤culas y series exclusivas en HD, Amazon Music con m치s de 100 millones de canciones sin anuncios, env칤os Prime gratis y acceso a Prime Gaming. Contenido original de Amazon y estrenos exclusivos. Cuenta personal con acceso garantizado por 1 mes.">
                <div class="product-image" style="background-image: url('images/prime video.png');"></div>
                <div class="product-details">
                    <h3 class="product-title">Amazon Prime Video + Amazon Music 1 mes</h3>
                    <p class="product-price">$3.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20Amazon%20Prime%20Video%20y%20Amazon%20Music" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

            <div class="product-card" data-category="redes" data-price="9990" data-best-seller="true" data-description="Impulsa tu presencia en TikTok con 1.000 seguidores reales y activos. Entrega gradual y natural para mayor seguridad de tu cuenta. Incluye garant칤a de reposici칩n, seguidores de calidad con avatares y biograf칤as. Ideal para creadores de contenido, influencers y marcas. Entrega en 24-72 horas.">
                <div class="product-image" style="background-image: url('images/seguidores-tiktok.webp');"></div>
                <div class="product-details">
                    <h3 class="product-title">Seguidores de TikTok (1.000 seguidores)</h3>
                    <p class="product-price">$9.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20los%20Seguidores%20de%20TikTok" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

            <div class="product-card" data-category="oferta" data-price="7500" data-best-seller="false" data-description="춰Paquete especial! Combina la seguridad premium de McAfee AntiVirus 2024 con el poder creativo de Canva Pro por 1 a침o. Protecci칩n completa para tu dispositivo y acceso a todas las herramientas de dise침o profesional. Ahorra m치s de 30% comparado con la compra individual. Licencias originales con soporte t칠cnico incluido.">
                <div class="product-image" style="background-image: url('images/Promo-canva+mcafee.png');">
                    <span class="product-tag tag-offer">Oferta</span>
                </div>
                <div class="product-details">
                    <h3 class="product-title">Oferta McAfee y Canva</h3>
                    <p class="product-price">$7.500 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20la%20Oferta%20McAfee%20y%20Canva" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

            <div class="product-card" data-category="streaming" data-price="3990" data-best-seller="false" data-description="YouTube Premium + YouTube Music: Experiencia completa sin interrupciones. Disfruta de todos los videos sin anuncios, reproducci칩n en segundo plano y descarga offline. Incluye YouTube Music Premium con millones de canciones, playlists personalizadas y modo sin conexi칩n. Cuenta personal con acceso garantizado por 1 mes.">
                <div class="product-image" style="background-image: url('images/youtubepremium.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">YouTube Premium + YouTube Music 1 mes</h3>
                    <p class="product-price">$3.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20YouTube%20Premium%20y%20YouTube%20Music%20por%201%20mes" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

            <div class="product-card" data-category="redes" data-price="9990" data-best-seller="false" data-description="Potencia tu canal de Twitch con 1.000 seguidores org치nicos. Seguidores de calidad con cuentas verificadas y activas en la plataforma. Incrementa tu visibilidad y alcanza el estatus de afiliado m치s r치pido. Incluye garant칤a de reposici칩n y entrega gradual en 24-48 horas para mantener la seguridad de tu cuenta.">
                <div class="product-image" style="background-image: url('images/seguidorestwitch.jpg');"></div>
                <div class="product-details">
                    <h3 class="product-title">1000 Seguidores de Twitch</h3>
                    <p class="product-price">$9.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%201000%20Seguidores%20de%20Twitch" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

            <div class="product-card" data-category="musica" data-price="4990" data-best-seller="false" data-description="Disfruta de la mejor experiencia musical con Spotify Premium por 3 meses. Acceso completo a m치s de 82 millones de canciones en calidad premium (320kbps), sin anuncios ni interrupciones. Incluye modo offline para descargar tu m칰sica favorita, reproducci칩n aleatoria ilimitada y saltos de canciones sin restricciones. Cuenta personal con credenciales 칰nicas y soporte durante todo el per칤odo.">
                <div class="product-image" style="background-image: url('images/spotify.png');"></div>
                <div class="product-details">
                    <h3 class="product-title">Spotify Premium - 3 meses</h3>
                    <p class="product-price">$4.990 CLP</p>
                    <a href="https://wa.me/56982195919?text=Hola,%20estoy%20interesado%20en%20Spotify%20Premium%20por%203%20meses" class="buy-button">
                        <i class="fab fa-whatsapp"></i>
                        Comprar por WhatsApp
                    </a>
                </div>
            </div>

        </div>

        <!-- Modal (versi칩n original) -->
        <div id="product-modal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2 id="modal-title"></h2>
                <p id="modal-description"></p>
            </div>
        </div>
    </main>

    <footer id="contact">
        <p>Gracias por confiar en nosotros para todas tus necesidades digitales.</p>
        <p>&copy; 2024 <strong>TrustZone Store</strong>. Todos los derechos reservados.</p>
    </footer>

    <div class="floating-elements-bottom">
        <i class="floating-icon fas fa-hat-santa"></i>
        <i class="floating-icon fas fa-deer"></i>
        <i class="floating-icon fas fa-bells"></i>
        <i class="floating-icon fas fa-candy-cane"></i>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('search');
            const categoryFilter = document.getElementById('filter-category');
            const priceFilter = document.getElementById('filter-price');
            const bestSellerFilter = document.getElementById('filter-best-sellers');
            const productGrid = document.getElementById('product-grid');
            const products = Array.from(document.querySelectorAll('.product-card'));
            const modal = document.getElementById('product-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalDescription = document.getElementById('modal-description');
            const closeModal = document.querySelector('.close');

            function filterProducts() {
                const searchText = searchInput.value.toLowerCase();
                const category = categoryFilter.value.toLowerCase();
                const price = priceFilter.value;
                const bestSeller = bestSellerFilter.value;

                products.forEach(product => {
                    const productCategories = product.dataset.category.toLowerCase().split(',');
                    const productPrice = parseInt(product.dataset.price);
                    
                    let matchesSearch = product.querySelector('.product-title').textContent.toLowerCase().includes(searchText);
                    let matchesCategory = category === '' || productCategories.includes(category);
                    let matchesPrice = true;
                    
                    if (price === 'low') {
                        matchesPrice = productPrice <= 5000;
                    } else if (price === 'high') {
                        matchesPrice = productPrice > 5000;
                    }
                    
                    let matchesBestSeller = bestSeller === '' || 
                        (bestSeller === 'best' && product.dataset.bestSeller === 'true');

                    if (matchesSearch && matchesCategory && matchesPrice && matchesBestSeller) {
                        product.style.display = '';
                    } else {
                        product.style.display = 'none';
                    }
                });
            }

            // Event listeners
            searchInput.addEventListener('input', filterProducts);
            categoryFilter.addEventListener('change', filterProducts);
            priceFilter.addEventListener('change', filterProducts);
            bestSellerFilter.addEventListener('change', filterProducts);

            // Modal functionality
            productGrid.addEventListener('click', function (e) {
                const card = e.target.closest('.product-card');
                if (card && 
                    !e.target.classList.contains('buy-button') && 
                    !e.target.closest('.buy-button') && 
                    !e.target.closest('.payment-button') && 
                    !e.target.closest('script')) {
                    modalTitle.textContent = card.querySelector('.product-title').textContent;
                    modalDescription.textContent = card.dataset.description;
                    modal.style.display = 'block';
                }
            });

            closeModal.addEventListener('click', function () {
                modal.style.display = 'none';
            });

            window.addEventListener('click', function (e) {
                if (e.target === modal) {
                    modal.style.display = 'none';
                }
            });

            // Agregar nueva funcionalidad de conversi칩n de moneda
            const currencySelector = document.getElementById('currency-selector');
            let exchangeRates = {};
            
            // Funci칩n para cargar las tasas de cambio
            async function loadExchangeRates() {
                try {
                    const response = await fetch('https://v6.exchangerate-api.com/v6/39571eeb2758bed148fa6bf3/latest/CLP');
                    const data = await response.json();
                    exchangeRates = data.conversion_rates;
                } catch (error) {
                    console.error('Error al cargar las tasas de cambio:', error);
                }
            }

            // Funci칩n para dar formato al precio seg칰n la moneda
            function formatPrice(price, currency) {
                const formatter = new Intl.NumberFormat('es-CL', {
                    minimumFractionDigits: currency === 'CLP' ? 0 : 2,
                    maximumFractionDigits: currency === 'CLP' ? 0 : 2,
                    useGrouping: true
                });
                
                return formatter.format(price);
            }

            // Funci칩n para convertir precios
            function convertPrice(priceInCLP, targetCurrency) {
                if (targetCurrency === 'CLP') return formatPrice(priceInCLP, 'CLP');
                const rate = exchangeRates[targetCurrency];
                if (!rate) return formatPrice(priceInCLP, 'CLP');
                
                const convertedPrice = priceInCLP * rate;
                return formatPrice(convertedPrice, targetCurrency);
            }

            // Funci칩n para actualizar los precios mostrados
            function updatePrices() {
                const selectedCurrency = currencySelector.value;
                const products = document.querySelectorAll('.product-card');
                
                products.forEach(product => {
                    const priceElement = product.querySelector('.product-price');
                    const originalPrice = parseInt(product.dataset.price);
                    const convertedPrice = convertPrice(originalPrice, selectedCurrency);
                    priceElement.textContent = `${selectedCurrency === 'CLP' ? '$' : ''}${convertedPrice} ${selectedCurrency}`;
                });
            }

            // Cargar tasas de cambio al inicio
            loadExchangeRates();

            // Evento para cambio de moneda
            currencySelector.addEventListener('change', updatePrices);
        });
    </script>
</body>
</html>
